<!DOCTYPE HTML>
<html>
<head>
    
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>${page~title} | Ocean Conservancy</title>
	
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-TileImage" content="https://oceanconservancy.org/wp-content/themes/oco-wp/images/ms-tile.png">
    <meta name="msapplication-TileColor" content="#ef0303">
    
    <link rel="shortcut icon" sizes="196x196" href="https://oceanconservancy.org/wp-content/themes/oco-wp/images/touch-android-highres.png">
    <link rel="shortcut icon" sizes="128x128" href="https://oceanconservancy.org/wp-content/themes/oco-wp/images/touch-android.png">
    <link rel="apple-touch-icon" href="https://oceanconservancy.org/wp-content/themes/oco-wp/images/touch-icon.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://oceanconservancy.org/wp-content/themes/oco-wp/images/touch-icon-iphone-@2x.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://oceanconservancy.org/wp-content/themes/oco-wp/images/touch-icon-ipad-@2x.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://oceanconservancy.org/wp-content/themes/oco-wp/images/touch-icon-ipad-pro-@2x.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://oceanconservancy.org/wp-content/themes/oco-wp/images/touch-icon-iphone-@3x.png">
    <link rel="shortcut icon" href="https://oceanconservancy.org/wp-content/themes/oco-wp/favicon.ico">	
	
	<!-- Address bar color in mobile browser -->
	<meta name="theme-color" content="#2BA8DD" />

    <link rel="preconnect" href="//cdn.jsdelivr.net/"> 
    <link rel="preconnect" href="//d2amdniajcqcy4.cloudfront.net"> 
    <link rel="prefetch" href="https://aaf1a18515da0e792f78-c27fdabe952dfc357fe25ebf5c8897ee.ssl.cf5.rackcdn.com/1991/logo-black-large.png">
    <link rel="dns-prefetch" href="//www.googletagmanager.com">  
    <link rel="dns-prefetch" href="//www.google.com">      
    <link rel="dns-prefetch" href="//in.hotjar.com">     
    <link rel="dns-prefetch" href="//h.online-metrix.net"> 
    <link rel="dns-prefetch" href="//revolutionmessaging.demdex.net">     
    <link rel="dns-prefetch" href="//connect.facebook.net"> 
    <link rel="dns-prefetch" href="//www.googleadservices.com">     
    <link rel="dns-prefetch" href="//www.facebook.com">       

    <!-- Google Optimize: Page hiding snippet (recommended)  -->
    <!--<style>.async-hide { opacity: 0 !important} </style>-->
    <!--<script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;-->
    <!--h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};-->
    <!--(a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;-->
    <!--})(window,document.documentElement,'async-hide','dataLayer',4000,-->
    <!--{'GTM-P99B2PT':true});</script>    -->
    
    <!-- Google Tag Manager -->
    <!-- Hard inclusion of JQuery because GTM is loading code expecting it to be there -->
    <script async src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-P99B2PT');</script>
    <!-- End Google Tag Manager -->      

    <!-- GA Conversion Tracking Start -->
    <script>
      window.receipt_amount_data = '{receipt_data~amount}';
      window.receipt_recurring_frequency = '{receipt_data~recurringFrequency}';
      window.receipt_tx_id = '{receipt_data~txId}';
      
      var initialAmount = "{receipt_data~amount}",
        prettyAmount = initialAmount.replace(/\$/g, '');
      dataLayer.push({'adRevenue': prettyAmount });
    </script>
    
    <!-- 4Site Experiment (Feb 7,2020): Testing if "giftProcessTrue" always fires on a succesful donation -->
    <!-- Pass giftProcess value to Data Layer -->
    <script>
    /*global alert, confirm, console, prompt, pageJson, window */
    /*jslint es6 */
    
    window.dataLayer = window.dataLayer || [];
    
    const giftProcess = (window.pageJson && 'giftProcess' in pageJson) ? pageJson.giftProcess : false;
    
    if (giftProcess) {
        // If giftProcess has any value other than the boolean "false"
        // window.dataLayer.push({ event: 'giftProcess-' + giftProcess});
        console.log("giftProcess is present, logging an event with its value: giftProcess-", giftProcess);
        window.dataLayer.push({
            'event': 'experiments',
            'gtmCategory': 'Engaging Networks Experiment - giftProcess Testing',
            'gtmAction': 'Engaging Networks Donation Thank You Page',
            'gtmLabel': 'giftProcess-' + giftProcess,
            'gtmValue': undefined
        });
    }
    </script>
    <!-- GA Conversion Tracking End -->

</head>

<body class="loading">
    
    <!-- Google Tag Manager -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P99B2PT"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager -->    
    
    <!-- Begin ThreatMetric profiling tags below -->    
    <noscript>
    <iframe style="width: 100px; height: 100px; border: 0; position: absolute; top: -5000px;"
    src="https://h.online-metrix.net/fp/tags.js?org_id=7nrfulxi&session_id=e1991-${page~sessionId}&page_id=1"></iframe>
    </noscript>
    <!-- End profiling tags -->          
    
    <!-- PYM: Needed to prevent bug in PYM's iFrame Height Calculation -->
    <!-- REF: https://github.com/nprapps/pym.js/issues/83 -->
    <div style="height: 0px !important; width: 0px !important;">&nbsp;</div>
    
    <!-- 4Site Template Body Wrapper -->
    <div id="main-content-wrapper">
    <div id="main-content">
    <div id="main-content-inner">



    </div>
</div>
</div>
<!-- End 4Site Template Body Wrapper -->

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/4site-interactive-studios/Ocean-Conservancy-Engaging-Networks-Template@master/themes/merged-css.min.css"> 

<!-- 4Site Template JS -->
<script src="https://d2amdniajcqcy4.cloudfront.net/donation/js/parent-theme.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pym/1.3.2/pym.v1.min.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/visibility.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-helpers.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-background-settings.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-click-to-expand.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-international-country-select.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-field-overrides.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-payment-method-handlers.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-processing-fee.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-button-label.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-toggle-memory.js"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-check-for-monthly-only.js"></script>
<script async src="https://aaf1a18515da0e792f78-c27fdabe952dfc357fe25ebf5c8897ee.ssl.cf5.rackcdn.com/1991/oc-en-upland-sms-signup.js?v=1583861134000"></script>
<script async src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-neverbounce.js"></script>
<script async src="https://cdn.jsdelivr.net/gh/4site-interactive-studios/Ocean-Conservancy-Engaging-Networks-Template@master/themes/child-theme/js/NeverBounce.js"></script>    
<script async src="https://h.online-metrix.net/fp/tags.js?org_id=7nrfulxi&session_id=e1991-${page~sessionId}&page_id=1"></script>    
<!-- End 4Site Template JS -->

<!-- 4Site Template JS: Render Critical: Page Banner -->
<!-- <script src="https://d2amdniajcqcy4.cloudfront.net/donation/js/oc-en-page-banner.js"></script> -->
<script>!function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var e=document.querySelector(".banner-image img");if(e){var r=e.src;document.querySelector(".banner-image").remove(),document.querySelector(".banner").style.backgroundImage="url("+r+")"}}();</script>   

<!-- 4Site Template JS: Render Critical: Donation Amounts -->
<!-- Source: https://cdn.jsdelivr.net/gh/4site-interactive-studios/Ocean-Conservancy-Engaging-Networks-Template@master/themes/parent-theme/js/oc-en-donation-value-toggle.js -->
<script>
    window.addEventListener("oc_en_helpers_loaded",function(){var e=!0,n="transaction.donationAmt",t="transaction.donationAmt.other",o=window.oc_monthly_prefills?window.oc_monthly_prefills:[22,45,105,175,250,500],a=window.oc_single_prefills?window.oc_single_prefills:[50,75,150,250,500,750],r=window.oc_selected_prefill_single?parseInt(window.oc_selected_prefill_single):0,l=window.oc_selected_prefill_monthly?parseInt(window.oc_selected_prefill_monthly):0,d=window.getUrlParameter("transaction.donationAmt");d&&(r=parseInt(d),l=parseInt(d));var c=window.getDonationAmount();function u(o,i){i=i||0;for(var a=document.querySelectorAll('input[name="'+n+'"]'),r=0;r<a.length-1;r++)void 0===o[r]?(a[r].parentNode.classList.add("en__hidden"),a[r].value=0,a[r].setAttribute("data-original",0)):(a[r].value=o[r],a[r].parentNode.querySelector("label").textContent="$"+a[r].value,a[r].setAttribute("data-original",o[r]),a[r].parentNode.classList.remove("en__hidden"));i&&(c=i),function(o){var i=document.querySelectorAll('input[name="'+n+'"]'),a=document.querySelector('input[name="'+t+'"]');if(null==a||!i.length)return!1;for(var r=0;r<i.length;r++)i[r].checked=r==o;-1==o&&e&&c?(i[i.length-1].checked=!0,a.value=parseInt(c),a.parentNode.classList.add("has-value")):(a.parentNode.classList.remove("has-value"),a.value="")}(o.indexOf(parseInt(c)))}function s(e,n){e=e||0,n=n||e," Monthly"==window.getDonationFrequency()?u(o,n):u(a,e)}var w=document.querySelectorAll('input[name="transaction.recurrpay"]');for(i=0;i<w.length;i++)w[i].addEventListener("change",function(e){var n=window.getDonationFrequency(),t=window.getDonationAmount();" Monthly"==n?r=t:l=t,s(r,l)});var p=document.querySelectorAll('input[name="'+n+'"]');for(i=0;i<p.length;i++)p[i].addEventListener("change",function(e){c=window.getDonationAmount()});var _=document.querySelector('input[name="'+t+'"]');_&&_.addEventListener("change",function(e){c=window.getDonationAmount()}),window.addEventListener("load",function(){s(r,l)})});
</script>

<!-- 4Site Template JS: Render Critical: Tracking JS -->
<!--<script src="https://cdn.jsdelivr.net/gh/4site-interactive-studios/Ocean-Conservancy-Engaging-Networks-Template@master/themes/child-theme/js/oc-en-tracking.js"></script>-->
<script>
    window.addEventListener("load",function(){var e=window.receipt_amount_data,a=pageJson.pageName.toLowerCase();if(a.indexOf("honor")>=0)var n="Honor";else n=a.indexOf("memorial")>=0?"Memorial":a.indexOf("premium")>=0?"Premium":a.indexOf("monthly")>=0?"Monthly":"Standard Donation";var i,o=window.receipt_recurring_frequency;i=o||"OneTime";var r=e.replace(/\$/g,"");parseFloat(r)>0&&"{receipt_data~amount}"!=r&&dataLayer.push({event:"BFREDtransaction",ecommerce:{purchase:{actionField:{id:window.receipt_tx_id,affiliation:"Engaging Networks Donation Form",revenue:r,tax:"0.00",shipping:"0.00"},products:[{name:pageJson.pageName+" - "+pageJson.campaignPageId,brand:n,id:pageJson.campaignPageId+" - "+r+" - "+i,price:r,variant:i,quantity:1}]}}})});
</script>

<!-- Upland / Mobilecommons Script -->
<script>
function getFieldValue(id){
    let field = document.getElementById(id);
    return (field && "value" in field) ? field.value : "";
}
function getUserData(){
let phone = getFieldValue("en__field_supporter_phoneNumber");
let sms_message_opt_in = document.getElementById('en__field_supporter_questions_178688');
if(!phone || !sms_message_opt_in || !sms_message_opt_in.checked) return false;
return {
    firstname: getFieldValue('en__field_supporter_firstName'),
    lastname: getFieldValue('en__field_supporter_lastName'),
    address1: getFieldValue('en__field_supporter_address1'),
    address2:getFieldValue('en__field_supporter_address2'),
    city: getFieldValue('en__field_supporter_city'),
    state: getFieldValue('en__field_supporter_region'),
    country: getFieldValue('en__field_supporter_country'),
    postal_code: getFieldValue('en__field_supporter_postcode'),
    msisdn: phone,
    email: getFieldValue('en__field_supporter_emailAddress'),
    phone: phone.replace(/\D/g,''),
    optin_path_key: 'OP1AF618AA53A977C5E6EE7A033BA8BDDB',
    donor: document.getElementsByName('transaction.donationAmt.other').length,
    tags: 'OC_EN_Form'
}
}
function postAjax(url, data, success) {
var params = typeof data == 'string' ? data : Object.keys(data).map(
    function(k){ return encodeURIComponent(k) + '=' + encodeURIComponent(data[k]) }
  ).join('&');

var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject("Microsoft.XMLHTTP");
xhr.open('POST', url);
xhr.onreadystatechange = function() {
  if(xhr.readyState > 3 && (xhr.status == 200 || xhr.status == 202)) {
    success(xhr.responseText); 
  }
};
xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
xhr.send(params);
return xhr;
}
window.enOnSubmit = function(){
// handle async code with promises
return new Promise(function(resolve, reject){
  console.log('Submit Start');
  let userData = getUserData();
  console.log('User Data', userData);
  if(!userData) return resolve();
  postAjax('https://oceanconservancy.org/wp-admin/admin-ajax.php?action=upland_sms_signup', userData, function(data) {
    console.log('Response Data', data);
    var response = JSON.parse(data);
    if(response.error) console.log('error adding contact');
    else console.log(response.message);
    resolve();
  });
})
}
</script>

<!-- PYM Child Page Scripts -->
<script>

    var pymChild = new pym.Child();

    document.addEventListener("DOMContentLoaded", function() {
        pymChild.sendMessage('childLoaded', 'loading');
        console.log('Child: "DOMContentLoaded" loaded message has been sent to parent');
    });

    window.addEventListener("load", function() {
        setTimeout(function() {
                pymChild.sendHeight();
        }, 25);
        console.log('Child: "load" message has been sent to parent');
    });

    // Utilizing PYM responsive iFrame library, resizes parent iFrame any time a child iframe is clicked. Overkill but a universal fix that solves for most use cases.
    if (typeof pymChild !== "undefined") {
        document.onclick = function() {
    
            // Send height update immedietely.
            pymChild.sendHeight();
    
            // And then wait a moment before triggering again so any visual page redraws are corrected for.
            setTimeout(function() {
                pymChild.sendHeight();
            }, 25);
        };
    };
</script>

<!-- Hide page contents while it's still loading and get color on the page ASAP to indicate to the user something has happened. -->
<style>body:not(#en__pagebuilder).loading{visibility:hidden}body{background-color: #f3f3f3;}#en__pagebuilder{background-color: #f3f3f3!important;}</style>
<script>document.body.classList.remove("loading");document.body.classList.add("loaded");</script>	

</body>
</html>        